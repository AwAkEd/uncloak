{"version":3,"sources":["../src/app.js"],"names":[],"mappings":";;AAEA,OAAO,CAAC,MAAM,CAAC,SAAS,EAAE,EAAE,CAAC,CAC5B,UAAU,CAAC,UAAU,EAAE,UAAU,MAAM,EAAE,KAAK,EAAE;;AAEhD,KAAM,MAAM,GAAG,wEAAoE,CAAC;AACpF,KAAM,MAAM,GAAG,kCAAgC,CAAC;;;AAGhD,OAAM,CAAC,KAAK,GAAG;AACd,iBAAe,EAAE,MAAM;AACvB,WAAS,EAAE,MAAM;AACjB,cAAY,EAAE,MAAM;;AAEpB,cAAY,EAAE,MAAM;AACpB,UAAQ,EAAE,0CAA0C;AACpD,aAAW,EAAE,0CAA0C;AACvD,mBAAiB,EAAE,MAAM;AACzB,sBAAoB,EAAE,QAAQ;AAC9B,sBAAoB,EAAE,WAAW;AACjC,mBAAiB,EAAE,GAAG;AACtB,WAAS,EAAE,SAAS;AACpB,gBAAc,EAAE,4BAA4B;AAC5C,0BAAwB,EAAE,4BAA4B;;AAEtD,cAAY,EAAE,OAAO;AACrB,cAAY,EAAE,OAAO;AACrB,cAAY,EAAE,OAAO;AACrB,cAAY,EAAE,OAAO;EACrB,CAAC;;;AAGF,OAAM,CAAC,IAAI,GAAG,EAAE,CAAC;AACjB,OAAM,CAAC,GAAG,GAAG,EAAE,CAAC;;AAEhB,OAAM,CAAC,OAAO,GAAG,YAAkB;MAAR,CAAC,gCAAG,EAAE;;AAChC,MAAI,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,OAAO,CAAC,EAAE;AACtC,UAAO,OAAO,CAAC;GACf;AACD,SAAO,MAAM,CAAC;EACd,CAAC;;AAEF,OAAM,CAAC,MAAM,CAAC,OAAO,EAAE,YAAY;AAClC,MAAI,IAAI,GAAG,EAAE,CAAC;AACd,OAAK,IAAI,CAAC,IAAI,MAAM,CAAC,KAAK,EAAE;AAC3B,OAAI,IAAI,GAAG,GAAG,CAAC,GAAG,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;GACjD;;AAED,QAAM,CAAC,IAAI,GAAG,MAAM,GAAG,IAAI,GAAG,MAAM,CAAC;;AAErC,OAAK,CAAC,IAAI,CAAC,+BAA+B,EAAE,EAAE,IAAI,EAAJ,IAAI,EAAE,CAAC,CACnD,OAAO,CAAC,UAAU,IAAI,EAAE;;AAExB,SAAM,CAAC,GAAG,GAAG,IAAI,CAAC;AAClB,eAAY,EAAE,CAAC;GACf,CAAC,CACD,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;EACvB,EAAE,IAAI,CAAC,CAAC;;;AAGT,UAAS,YAAY,GAAI;AACxB,MAAI,EAAE,GAAG,YAAY,CAAC;AACtB,MAAI,UAAU,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,eAAe,CAAC;AAC3E,MAAI,WAAW,GAAG,UAAU,CAAC,IAAI,CAAC;;AAElC,MAAI,CAAC,WAAW;AAAE,UAAO;GAAA,AAEzB,IAAI,UAAU,CAAC,cAAc,CAAC,EAAE,CAAC,EAAE;AAClC,aAAU,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC;GACvC;AACD,MAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;AAC1C,MAAI,CAAC,IAAI,GAAG,cAAc,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC;AAC3C,MAAI,CAAC,GAAG,GAAG,YAAY,CAAC;AACxB,MAAI,CAAC,EAAE,GAAG,EAAE,CAAC;AACb,aAAW,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;EAC9B;CACD,CAAC,CAAC","file":"src/app.js","sourcesContent":["\"use strict\";\n\nangular.module(\"uncloak\", [])\n.controller(\"MainCtrl\", function ($scope, $http) {\n\t// the following const will wrap the final output in the view\n\tconst HEADER = '@import \"../template/mixins\";\\n@import \"../template/settings\";\\n\\n';\n\tconst FOOTER = '\\n@import \"../template/theme\";';\n\n\t// black theme default (see /reveal.js/css/theme/source/black.scss )\n\t$scope.theme = {\n\t\tbackgroundColor: \"#222\",\n\t\tmainColor: \"#fff\",\n\t\theadingColor: \"#fff\",\n\n\t\tmainFontSize: \"38px\",\n\t\tmainFont: \"'Source Sans Pro', Helvetica, sans-serif\",\n\t\theadingFont: \"'Source Sans Pro', Helvetica, sans-serif\",\n\t\theadingTextShadow: \"none\",\n\t\theadingLetterSpacing: \"normal\",\n\t\theadingTextTransform: \"uppercase\",\n\t\theadingFontWeight: 600,\n\t\tlinkColor: \"#42affa\",\n\t\tlinkColorHover: \"lighten( $linkColor, 15% )\",\n\t\tselectionBackgroundColor: \"lighten( $linkColor, 25% )\",\n\n\t\theading1Size: \"2.5em\",\n\t\theading2Size: \"1.6em\",\n\t\theading3Size: \"1.3em\",\n\t\theading4Size: \"1.0em\"\n\t};\n\n\t// outputs\n\t$scope.scss = \"\";\n\t$scope.css = \"\";\n\n\t$scope.getType = function (k = \"\") {\n\t\tif (~k.toLowerCase().indexOf(\"color\")) {\n\t\t\treturn \"color\";\n\t\t}\n\t\treturn \"text\";\n\t};\n\n\t$scope.$watch(\"theme\", function () {\n\t\tvar scss = \"\";\n\t\tfor (let k in $scope.theme) {\n\t\t\tscss += \"$\" + k + \": \" + $scope.theme[k] + \";\\n\";\n\t\t}\n\t\t// update scss output\n\t\t$scope.scss = HEADER + scss + FOOTER;\n\n\t\t$http.post(\"http://localhost:8080/convert\", { scss })\n\t\t\t.success(function (data) {\n\t\t\t\t// update css output\n\t\t\t\t$scope.css = data;\n\t\t\t\tupdateIframe();\n\t\t\t})\n\t\t\t.error(console.error);\n\t}, true);\n\n\t// feel the magic\n\tfunction updateIframe () {\n\t\tvar id = \"custom-css\";\n\t\tvar previewDoc = document.getElementById(\"reveal-preview\").contentDocument;\n\t\tvar previewBody = previewDoc.body;\n\t\t// iframe not ready\n\t\tif (!previewBody) return;\n\n\t\tif (previewDoc.getElementById(id)) {\n\t\t\tpreviewDoc.getElementById(id).remove();\n\t\t}\n\t\tvar link = document.createElement(\"link\");\n\t\tlink.href = \"/custom.css?\" + Math.random();\n\t\tlink.rel = \"stylesheet\";\n\t\tlink.id = id;\n\t\tpreviewBody.appendChild(link);\n\t}\n});\n"]}